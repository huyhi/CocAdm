{%  extends 'base.html' %}



{% block style %}
{% endblock %}



{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-md-2">
                fuck
            </div>
            <div class="col-md-10" id="highcharts-container">

            </div>
        </div>
    </div>
{%  endblock %}



{% block script %}
<script>
target_url = 'http://127.0.0.1:8000/api/daily/%23YUYJRQUJ2?start_time=2019-12-31%2000:00:00&end_time=2020-01-02%2000:00:00&interval=1'
$.getJSON(target_url, (r) => {
    console.log(r)
    datetimeTag = []
    attackWins = []
    gold = []
    for (let i = 0; i < r.data.length; ++i) {
        datetimeTag.push(r.data[i].datetimeTag)
        attackWins.push(r.data[i].attackWins)
        gold.push(r.data[i].gold)
    }
    console.log(datetimeTag)
    console.log(attackWins)

    // 图表配置
    var options = {
        chart: {
            type: 'column',                       //指定图表的类型，默认是折线图（line）
        },
        title: {
            text: '人生有梦 各自精彩 gold'                 // 标题
        },
        xAxis: {
            {#categories: ['苹果', '香蕉', '橙子']   // x 轴分类#}
            categories: datetimeTag
        },
        yAxis: {
            title: {
                text: '进攻胜利次数'                 // y 轴标题
            }
        },
        series: [
            {
                name: '时间',
                data: attackWins
            }
        ]
    }
    Highcharts.chart('highcharts-container', options);
})




</script>
{% endblock%}
